# Руководство по установке

SolsticeOps-core — это центральная система управления. Модули добавляются как Git-субмодули.

## Автоматическая установка (рекомендуется)

Самый простой способ установить SolsticeOps — использовать предоставленный скрипт установки. Он берет на себя управление зависимостями, создание сервиса и начальную настройку.

```bash
sudo ./install.sh
```

Скрипт предлагает три варианта:
1. **Install**: Полная установка ядра и выбранных модулей.
2. **Update**: Обновляет ядро и все модули через Git, обновляет зависимости и запускает миграции.
3. **Uninstall**: Останавливает сервис и удаляет файлы установки.

## Ручная настройка

Если вы предпочитаете настраивать систему вручную, выполните следующие шаги:

### Предварительные требования
- Python 3.12+
- Docker (опционально, но рекомендуется для некоторых модулей)
- Git

### Шаги настройки

1. Клонируйте основной репозиторий:
   ```bash
   git clone https://github.com/SolsticeOps/SolsticeOps-core.git
   cd SolsticeOps-core
   ```

2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate
   ```

3. Установите основные зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Настройте базу данных:
   ```bash
   python setup_db.py
   ```
   Следуйте интерактивным подсказкам, чтобы выбрать базу данных (SQLite, MySQL или PostgreSQL).

5. Инициализируйте базу данных:
   ```bash
   python manage.py migrate
   ```

6. Добавьте и инициализируйте модули:
   ```bash
   # Добавление нового субмодуля
   git submodule add {module_repo_url} modules/{module_name}
   
   # Или если вы только что клонировали ядро с существующими субмодулями:
   git submodule update --init --recursive

   # Установка зависимостей конкретного модуля
   pip install -r modules/{module_name}/requirements.txt
   ```

7. Запустите сервер (от имени `root`):
   ```bash
   sudo .venv/bin/python manage.py runserver 0.0.0.0:8000
   ```
